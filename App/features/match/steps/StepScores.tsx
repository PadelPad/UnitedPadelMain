import { View, Text, TextInput, Pressable } from 'react-native'; import { Button } from '@/components/ui/Button'; import { useMatchDraft } from '@/lib/state/useMatchDraft'; export function StepScores({onPrev,onNext}:{onPrev:()=>void;onNext:()=>void}){const {draft,setField}=useMatchDraft();const update=(i:number,k:'t1'|'t2',val:number)=>{const sets=draft.sets.map((s,idx)=>idx===i?{...s,[k]:val}:s);setField('sets',sets)};const addSet=()=>setField('sets',[...draft.sets,{t1:0,t2:0,superTiebreak:draft.sets.length===2}]);return(<View className='flex-1 p-4 gap-3'><Text className='text-white text-lg font-semibold'>3. Enter scores</Text>{draft.sets.map((s,i)=>(<View key={i} className='flex-row items-center gap-3'><Text className='text-white'>Set {i+1}</Text><TextInput keyboardType='number-pad' defaultValue={String(s.t1)} onChangeText={(t)=>update(i,'t1',parseInt(t||'0'))} className='w-16 bg-white/10 text-white px-2 py-2 rounded'/><Text className='text-white'>-</Text><TextInput keyboardType='number-pad' defaultValue={String(s.t2)} onChangeText={(t)=>update(i,'t2',parseInt(t||'0'))} className='w-16 bg-white/10 text-white px-2 py-2 rounded'/>{i===2&&<Text className='text-white/70'>Super TB</Text>}</View>))}{draft.sets.length<3&&<Pressable onPress={addSet} className='px-3 py-2 rounded bg-white/10 w-32'><Text className='text-white text-center'>Add set</Text></Pressable>}<View className='flex-row gap-2 mt-4'><Button title='Back' onPress={onPrev}/><Button title='Next' onPress={onNext}/></View></View>);}