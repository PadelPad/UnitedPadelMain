import { View, Text, Alert } from 'react-native'; import { Button } from '@/components/ui/Button'; import { useMatchDraft } from '@/lib/state/useMatchDraft'; import { validateSets } from '@/lib/utils/scoring'; import { useCreateMatch } from '@/features/match/hooks'; export function StepSummary({onPrev}:{onPrev:()=>void}){const {draft}=useMatchDraft();const createMatch=useCreateMatch();const submit=async()=>{try{validateSets(draft);await createMatch.mutateAsync(draft);Alert.alert('Sent for approval','Opponents have been notified.')}catch(e:any){Alert.alert('Error',e.message||'Check your inputs.')}};return(<View className='flex-1 p-4 gap-3'><Text className='text-white text-lg font-semibold'>4. Summary</Text><Text className='text-white/80'>{JSON.stringify(draft,null,2)}</Text><View className='flex-row gap-2 mt-4'><Button title='Back' onPress={onPrev}/><Button title='Send for approval' onPress={submit}/></View></View>);}